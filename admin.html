<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - zerotoin</title>
<style>
body{margin:0;font-family:Arial;background:#0f172a;color:#fff}
header{background:#020617;padding:15px;text-align:center;font-size:20px}
section{padding:10px}
.card{background:#020617;padding:12px;margin:10px 0;border-radius:10px}
button{background:#ef4444;border:none;color:#fff;padding:6px 12px;border-radius:6px}
</style>
</head>
<body>

<header>Admin Panel - zerotoin</header>

<section>
<h3>All Users</h3>
<div id="users"></div>
</section>

<section>
<h3>All Videos</h3>
<div id="videos"></div>
</section>

<script>
const API="https://zerotoin-backend.onrender.com";

fetch(API+"/api/admin/users")
.then(r=>r.json())
.then(d=>{
  users.innerHTML="";
  d.users.forEach(u=>{
    users.innerHTML+=`
      <div class="card">
        ${u[1]} (${u[2]}) â€” ${u[3]}
        <br><br>
        <button onclick="delUser(${u[0]})">Delete</button>
      </div>`
  })
})

fetch(API+"/api/admin/videos")
.then(r=>r.json())
.then(d=>{
  videos.innerHTML="";
  d.videos.forEach(v=>{
    videos.innerHTML+=`
      <div class="card">
        ${v[1]}
        <br><br>
        <button onclick="delVideo(${v[0]})">Delete</button>
      </div>`
  })
})

function delUser(id){
  fetch(API+"/api/admin/delete-user/"+id)
  .then(()=>location.reload())
}

function delVideo(id){
  fetch(API+"/api/admin/delete-video/"+id)
  .then(()=>location.reload())
}
</script>

</body>
</html>
